document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".clicker__btn"),e=document.querySelector(".clicker__count"),o=document.querySelectorAll(".clicker__shop-lvl"),n=document.querySelectorAll(".clicker__shop-price-amount"),c=document.querySelectorAll(".clicker__shop-price-count"),l=document.querySelector(".clicker__seconds"),a=document.querySelector(".reset");let r,s,u=[];function d(){for(let t=0;t<o.length;t++)amount=0,u[t]=amount,localStorage.setItem("amountPerSecond",u)}null!==localStorage.getItem("count")&&null!==localStorage.getItem("perSecond")&&null!==localStorage.getItem("amountPerSecond")?(r=localStorage.getItem("count"),s=localStorage.getItem("perSecond"),e.textContent=Math.trunc(r),l.textContent=s):(r=0,s=0,e.textContent=r,l.textContent=s,localStorage.setItem("count",r),localStorage.setItem("perSecond",s),d()),t.addEventListener("click",(()=>{localStorage.setItem("count",++r),e.textContent=Math.trunc(r),t.classList.add("click"),t.classList.contains("click")&&(setTimeout((()=>t.classList.remove("click")),120),console.log("ok"))})),o.forEach((t=>{setInterval((()=>+t.dataset.price>r?t.classList.add("not-enough"):t.classList.remove("not-enough")),100),t.addEventListener("click",(()=>{+t.dataset.price<=r&&!t.classList.contains("not-enough")&&(r-=+t.dataset.price,s=+s+ +t.dataset.count,localStorage.setItem("perSecond",s),l.textContent=+s,localStorage.setItem("count",r))}))}));for(let t=0;t<o.length;t++){let e=0,l=localStorage.getItem("amountPerSecond").split(",");e=l[t],n[t].textContent=e+"x",u.push(e),o[t].addEventListener("click",(()=>{o[t].classList.contains("not-enough")||(n[t].textContent=++e+"x",u[t]=e,console.log(u),localStorage.setItem("amountPerSecond",u))})),c[t].textContent=o[t].dataset.price}const i=setInterval((function(){r=+r+ +s/100,localStorage.setItem("count",r),e.textContent=Math.trunc(r)}),10);a.addEventListener("click",(()=>{clearInterval(i),r=1e4,s=0,localStorage.setItem("count",r),localStorage.setItem("perSecond",s),e.textContent=Math.trunc(r),l.textContent=s,d(),window.location.reload()}))}));